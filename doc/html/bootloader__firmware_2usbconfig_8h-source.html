<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>USB IR HID Device: bootloader_firmware/usbconfig.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>bootloader_firmware/usbconfig.h</h1><a href="bootloader__firmware_2usbconfig_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Name: usbconfig.h</span>
<a name="l00002"></a>00002 <span class="comment"> * Project: AVR USB driver</span>
<a name="l00003"></a>00003 <span class="comment"> * Author: Christian Starkjohann</span>
<a name="l00004"></a>00004 <span class="comment"> * Creation Date: 2005-04-01</span>
<a name="l00005"></a>00005 <span class="comment"> * Tabsize: 4</span>
<a name="l00006"></a>00006 <span class="comment"> * Copyright: (c) 2005 by OBJECTIVE DEVELOPMENT Software GmbH</span>
<a name="l00007"></a>00007 <span class="comment"> * License: Proprietary, free under certain conditions. See Documentation.</span>
<a name="l00008"></a>00008 <span class="comment"> * This Revision: $Id: usbconfig.h 43 2005-04-10 21:04:36Z cs $</span>
<a name="l00009"></a>00009 <span class="comment"> */</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef __usbconfig_h_included__</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define __usbconfig_h_included__</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="comment">/*</span>
<a name="l00015"></a>00015 <span class="comment">General Description:</span>
<a name="l00016"></a>00016 <span class="comment">This file contains parts of the USB driver which can be configured and can or</span>
<a name="l00017"></a>00017 <span class="comment">must be adapted to your hardware.</span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/* ---------------------------- Hardware Config ---------------------------- */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#3ae6cdc1982572cbd12abd5ccc6b6b62">00022</a> <span class="preprocessor">#define USB_CFG_IOPORT          PORTD</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="comment">/* This is the port where the USB bus is connected. When you configure it to</span>
<a name="l00024"></a>00024 <span class="comment"> * "PORTB", the registers PORTB, PINB (=PORTB-2) and DDRB (=PORTB-1) will be</span>
<a name="l00025"></a>00025 <span class="comment"> * used.</span>
<a name="l00026"></a>00026 <span class="comment"> */</span>
<a name="l00027"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#3a8bf6679cd70d1ddcc05024ffef9922">00027</a> <span class="preprocessor">#define USB_CFG_DMINUS_BIT      0</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="comment">/* This is the bit number in USB_CFG_IOPORT where the USB D- line is connected.</span>
<a name="l00029"></a>00029 <span class="comment"> * This MUST be bit 0. All other values will result in a compile error!</span>
<a name="l00030"></a>00030 <span class="comment"> */</span>
<a name="l00031"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#3005cdbb03c707af8007363632d7d02d">00031</a> <span class="preprocessor">#define USB_CFG_DPLUS_BIT       2</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="comment">/* This is the bit number in USB_CFG_IOPORT where the USB D+ line is connected.</span>
<a name="l00033"></a>00033 <span class="comment"> * This may be any bit in the port. Please note that D+ must also be connected</span>
<a name="l00034"></a>00034 <span class="comment"> * to interrupt pin INT0!</span>
<a name="l00035"></a>00035 <span class="comment"> */</span>
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#a9d922661bb01f44aaffe37c72cbe858">00037</a> <span class="preprocessor">#define USB_CFG_PULLUP_IOPORT   PORTC</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="comment">/* This is the port where the USB D- pullup resistor is connected. When you</span>
<a name="l00039"></a>00039 <span class="comment"> * configure it to "PORTB", the registers PORTB and DDRB (=PORTB-1) will be</span>
<a name="l00040"></a>00040 <span class="comment"> * used. If this constant is defined, the macros usbDeviceConnect() and</span>
<a name="l00041"></a>00041 <span class="comment"> * usbDeviceDisconnect will be available.</span>
<a name="l00042"></a>00042 <span class="comment"> */</span>
<a name="l00043"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#260e0d8441f7d09bc6e41f45882fcd52">00043</a> <span class="preprocessor">#define USB_CFG_PULLUP_BIT      5</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="comment">/* This is the bit number in USB_CFG_PULLUP_IOPORT where the USB D- 1.5 kOhm</span>
<a name="l00045"></a>00045 <span class="comment"> * pullup resistor is connected instead of VBUS. This may be any bit in</span>
<a name="l00046"></a>00046 <span class="comment"> * the port.</span>
<a name="l00047"></a>00047 <span class="comment"> */</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">/* --------------------------- Functional Range ---------------------------- */</span>
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#fe176bba6f05a034a5eec11f7ed6302b">00051</a> <span class="preprocessor">#define USB_CFG_HAVE_INTRIN_ENDPOINT    0</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="comment">/* Define this to 1 if you want to compile a version with two endpoints: The</span>
<a name="l00053"></a>00053 <span class="comment"> * default control endpoint 0 and an interrupt-in endpoint 1.</span>
<a name="l00054"></a>00054 <span class="comment"> */</span>
<a name="l00055"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#f2a9b3ecff1707f1b6554a881a87b954">00055</a> <span class="preprocessor">#define USB_CFG_IMPLEMENT_HALT          0</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="comment">/* Define this to 1 if you also want to implement the ENDPOINT_HALT feature</span>
<a name="l00057"></a>00057 <span class="comment"> * for endpoint 1 (interrupt endpoint). Although you may not need this feature,</span>
<a name="l00058"></a>00058 <span class="comment"> * it is required by the standard. We have made it a config option because it</span>
<a name="l00059"></a>00059 <span class="comment"> * bloats the code considerably.</span>
<a name="l00060"></a>00060 <span class="comment"> */</span>
<a name="l00061"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#9cccddfefa62f926a0d7bba9f183a4d3">00061</a> <span class="preprocessor">#define USB_CFG_INTR_POLL_INTERVAL      10</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="comment">/* If you compile a version with endpoint 1 (interrupt-in), this is the poll</span>
<a name="l00063"></a>00063 <span class="comment"> * interval. The value is in milliseconds and must not be less than 10 ms for</span>
<a name="l00064"></a>00064 <span class="comment"> * low speed devices.</span>
<a name="l00065"></a>00065 <span class="comment"> */</span>
<a name="l00066"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#d5fd70b5fabd8abd34d5b9ef7100b709">00066</a> <span class="preprocessor">#define USB_CFG_IS_SELF_POWERED         0</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="comment">/* Define this to 1 if the device has its own power supply. Set it to 0 if the</span>
<a name="l00068"></a>00068 <span class="comment"> * device is powered from the USB bus.</span>
<a name="l00069"></a>00069 <span class="comment"> */</span>
<a name="l00070"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#be324d9b00dc186bcbac65ed0f94811c">00070</a> <span class="preprocessor">#define USB_CFG_MAX_BUS_POWER           20</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span><span class="comment">/* Set this variable to the maximum USB bus power consumption of your device.</span>
<a name="l00072"></a>00072 <span class="comment"> * The value is in milliamperes. [It will be divided by two since USB</span>
<a name="l00073"></a>00073 <span class="comment"> * communicates power requirements in units of 2 mA.]</span>
<a name="l00074"></a>00074 <span class="comment"> */</span>
<a name="l00075"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#2fec57b295d6ab2920e7c4b7c75df697">00075</a> <span class="preprocessor">#define USB_CFG_SAMPLE_EXACT            1</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span><span class="comment">/* This variable affects Sampling Jitter for USB receiving. When it is 0, the</span>
<a name="l00077"></a>00077 <span class="comment"> * driver guarantees a sampling window of 1/2 bit. The USB spec requires</span>
<a name="l00078"></a>00078 <span class="comment"> * that the receiver has at most 1/4 bit sampling window. The 1/2 bit window</span>
<a name="l00079"></a>00079 <span class="comment"> * should still work reliably enough because we work at low speed. If you want</span>
<a name="l00080"></a>00080 <span class="comment"> * to meet the spec, set this value to 1. This will unroll a loop which</span>
<a name="l00081"></a>00081 <span class="comment"> * results in bigger code size.</span>
<a name="l00082"></a>00082 <span class="comment"> * If you have problems with long cables, try setting this value to 1.</span>
<a name="l00083"></a>00083 <span class="comment"> */</span>
<a name="l00084"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#7f117e204e14ff1028ada59f622173f2">00084</a> <span class="preprocessor">#define USB_CFG_IMPLEMENT_FN_WRITE      1</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span><span class="comment">/* Set this to 1 if you want usbFunctionWrite() to be called for control-out</span>
<a name="l00086"></a>00086 <span class="comment"> * transfers. Set it to 0 if you don't need it and want to save a couple of</span>
<a name="l00087"></a>00087 <span class="comment"> * bytes.</span>
<a name="l00088"></a>00088 <span class="comment"> */</span>
<a name="l00089"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#6be8d20f2d0eb0e87460b26681e60611">00089</a> <span class="preprocessor">#define USB_CFG_IMPLEMENT_FN_READ       0</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="comment">/* Set this to 1 if you need to send control replies which are generated</span>
<a name="l00091"></a>00091 <span class="comment"> * "on the fly" when usbFunctionRead() is called. If you only want to send</span>
<a name="l00092"></a>00092 <span class="comment"> * data from a static buffer, set it to 0 and return the data from</span>
<a name="l00093"></a>00093 <span class="comment"> * usbFunctionSetup(). This saves a couple of bytes.</span>
<a name="l00094"></a>00094 <span class="comment"> */</span>
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="comment">/* -------------------------- Device Description --------------------------- */</span>
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="comment">/* #define  USB_CFG_VENDOR_ID       0xlow, 0xhigh */</span>
<a name="l00099"></a>00099 <span class="comment">/* USB vendor ID for the device, low byte first. If you have registered your</span>
<a name="l00100"></a>00100 <span class="comment"> * own Vendor ID, define it here. Otherwise you use obdev's free shared</span>
<a name="l00101"></a>00101 <span class="comment"> * VID/PID pair. Be sure to read USBID-License.txt for rules!</span>
<a name="l00102"></a>00102 <span class="comment"> */</span>
<a name="l00103"></a>00103 <span class="comment">/* #define  USB_CFG_DEVICE_ID       0xlow, 0xhigh */</span>
<a name="l00104"></a>00104 <span class="comment">/* This is the ID of the product, low byte first. It is interpreted in the</span>
<a name="l00105"></a>00105 <span class="comment"> * scope of the vendor ID. If you have registered your own VID with usb.org</span>
<a name="l00106"></a>00106 <span class="comment"> * or if you have licensed a PID from somebody else, define it here. Otherwise</span>
<a name="l00107"></a>00107 <span class="comment"> * you use obdev's free shared VID/PID pair. Be sure to read the rules in</span>
<a name="l00108"></a>00108 <span class="comment"> * USBID-License.txt!</span>
<a name="l00109"></a>00109 <span class="comment"> */</span>
<a name="l00110"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#ba3c7c0cd4055ba3bbf5df38e57b6d27">00110</a> <span class="preprocessor">#define USB_CFG_DEVICE_VERSION  0x00, 0x01</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span><span class="comment">/* Version number of the device: Minor number first, then major number.</span>
<a name="l00112"></a>00112 <span class="comment"> */</span>
<a name="l00113"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#25a2baf5c8feb0982a47050423add0ec">00113</a> <span class="preprocessor">#define USB_CFG_VENDOR_NAME     'w', 'w', 'w', '.', 'f', 'i', 's', 'c', 'h', 'l', '.', 'd', 'e'</span>
<a name="l00114"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#3085d820d9dc6e939737a3f1b9a457d7">00114</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CFG_VENDOR_NAME_LEN 13</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span><span class="comment">/* These two values define the vendor name returned by the USB device. The name</span>
<a name="l00116"></a>00116 <span class="comment"> * must be given as a list of characters under single quotes. The characters</span>
<a name="l00117"></a>00117 <span class="comment"> * are interpreted as Unicode (UTF-16) entities.</span>
<a name="l00118"></a>00118 <span class="comment"> * If you don't want a vendor name string, undefine these macros.</span>
<a name="l00119"></a>00119 <span class="comment"> * ALWAYS define a vendor name containing your Internet domain name if you use</span>
<a name="l00120"></a>00120 <span class="comment"> * obdev's free shared VID/PID pair. See the file USBID-License.txt for</span>
<a name="l00121"></a>00121 <span class="comment"> * details.</span>
<a name="l00122"></a>00122 <span class="comment"> */</span>
<a name="l00123"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#9b482a2b2740652ffe7dcb6695ca0c91">00123</a> <span class="preprocessor">#define USB_CFG_DEVICE_NAME     'A', 'V', 'R', 'U', 'S', 'B', 'B', 'o', 'o', 't'</span>
<a name="l00124"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#e68f17e6baf13805abc56e74beadeb57">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CFG_DEVICE_NAME_LEN 10</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="comment">/* Same as above for the device name. If you don't want a device name, undefine</span>
<a name="l00126"></a>00126 <span class="comment"> * the macros. See the file USBID-License.txt before you assign a name.</span>
<a name="l00127"></a>00127 <span class="comment"> */</span>
<a name="l00128"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#4e22a06a33b9e7aafebac88906ba3aa1">00128</a> <span class="preprocessor">#define USB_CFG_SERIAL_NUMBER_LENGTH  0</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="comment">/* Set this define to the number of charcters in the serial number if your</span>
<a name="l00130"></a>00130 <span class="comment"> * device should have a serial number to uniquely identify each hardware</span>
<a name="l00131"></a>00131 <span class="comment"> * instance. You must supply the serial number in a string descriptor with the</span>
<a name="l00132"></a>00132 <span class="comment"> * name "usbCfgSerialNumberStringDescriptor", e.g.:</span>
<a name="l00133"></a>00133 <span class="comment"> * #define USB_CFG_SERIAL_NUMBER_LENGTH  5</span>
<a name="l00134"></a>00134 <span class="comment"> * int usbCfgSerialNumberStringDescriptor[] PROGMEM = {</span>
<a name="l00135"></a>00135 <span class="comment"> *     USB_STRING_DESCRIPTOR_HEADER(USB_CFG_SERIAL_NUMBER_LENGTH),</span>
<a name="l00136"></a>00136 <span class="comment"> *     '1', '2', '3', '4', '5'</span>
<a name="l00137"></a>00137 <span class="comment"> * };</span>
<a name="l00138"></a>00138 <span class="comment"> * See usbdrv.h for more information about the USB_STRING_DESCRIPTOR_HEADER()</span>
<a name="l00139"></a>00139 <span class="comment"> * macro or usbdrv.c for example string descriptors.</span>
<a name="l00140"></a>00140 <span class="comment"> * You may want to put "usbCfgSerialNumberStringDescriptor" at a constant</span>
<a name="l00141"></a>00141 <span class="comment"> * flash memory address (with magic linker commands) so that you don't need</span>
<a name="l00142"></a>00142 <span class="comment"> * to recompile if you change it.</span>
<a name="l00143"></a>00143 <span class="comment"> */</span>
<a name="l00144"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#9ce4f96ad98b3db8205691e8bc723e55">00144</a> <span class="preprocessor">#define USB_CFG_DEVICE_CLASS    0xff</span>
<a name="l00145"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#89e5ad66f8b835866e7d836c73bfd30d">00145</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CFG_DEVICE_SUBCLASS 0</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span><span class="comment">/* See USB specification if you want to conform to an existing device class.</span>
<a name="l00147"></a>00147 <span class="comment"> */</span>
<a name="l00148"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#34f6fe9486b66e8220a82a0eb87a7447">00148</a> <span class="preprocessor">#define USB_CFG_INTERFACE_CLASS     0</span>
<a name="l00149"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#c643f27afa43062c19b8f0674b6be1b5">00149</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CFG_INTERFACE_SUBCLASS  0</span>
<a name="l00150"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#8ddab89b764bfd88d024c7d9c9931de3">00150</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CFG_INTERFACE_PROTOCOL  0</span>
<a name="l00151"></a>00151 <span class="preprocessor"></span><span class="comment">/* See USB specification if you want to conform to an existing device class or</span>
<a name="l00152"></a>00152 <span class="comment"> * protocol.</span>
<a name="l00153"></a>00153 <span class="comment"> */</span>
<a name="l00154"></a><a class="code" href="bootloader__firmware_2usbconfig_8h.html#47d9bef5c10a1b9ba917eca583d2abc9">00154</a> <span class="preprocessor">#define USB_CFG_HID_REPORT_DESCRIPTOR_LENGTH    0   </span><span class="comment">/* total length of report descriptor */</span>
<a name="l00155"></a>00155 <span class="comment">/* Define this to the length of the HID report descriptor, if you implement</span>
<a name="l00156"></a>00156 <span class="comment"> * an HID device. Otherwise don't define it or define it to 0.</span>
<a name="l00157"></a>00157 <span class="comment"> */</span>
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 <span class="preprocessor">#endif </span><span class="comment">/* __usbconfig_h_included__ */</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 30 15:43:33 2009 for USB IR HID Device by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
