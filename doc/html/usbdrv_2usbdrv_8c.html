<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>USB IR HID Device: usbdrv/usbdrv.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>usbdrv/usbdrv.c File Reference</h1><code>#include &quot;<a class="el" href="usbdrv_2iarcompat_8h-source.html">iarcompat.h</a>&quot;</code><br>
<code>#include &lt;avr/io.h&gt;</code><br>
<code>#include &lt;avr/pgmspace.h&gt;</code><br>
<code>#include &quot;<a class="el" href="usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="usbdrv_2oddebug_8h-source.html">oddebug.h</a>&quot;</code><br>

<p>
<a href="usbdrv_2usbdrv_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionconverter__t.html">converter_t</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#2a36a35f900ede87e7c897bc778065c8">USB_FLG_TX_PACKET</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#06db19dbad17d54fc6f3742ab0afba69">USB_FLG_MSGPTR_IS_ROM</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;6)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#5e3bb8fb87bbde80118c36559bf41bcb">USB_FLG_USE_DEFAULT_RW</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;7)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#9c0556a4c6c5a1ab8f6598aee8e5bf6a">USB_CFG_DESCR_PROPS_STRING_0</a>&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#c16de84418d64a0e74a4e551fc9ac786">usbDescriptorString0</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#55edf2117128387162339d98ba2af0f4">USB_CFG_DESCR_PROPS_STRING_VENDOR</a>&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#9974e0350b3ad7adafc3b1f0a47278ca">usbDescriptorStringVendor</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#a08084f9755a643e02d469b66b129ef6">USB_CFG_DESCR_PROPS_STRING_PRODUCT</a>&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#030c4d21be999d0deafccc65499a44df">usbDescriptorStringDevice</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#a916bf33f6f8f481a219d0a81b5b225e">USB_CFG_DESCR_PROPS_DEVICE</a>&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#4832dd2433bcc12b444a31dc4a8bfc49">usbDescriptorDevice</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#dfbd53b5310c36b1e4b06d6a3b992e8a">USB_CFG_DESCR_PROPS_HID</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#8aae9f682ca9f91faae0453e4351a50b">USB_CFG_DESCR_PROPS_CONFIGURATION</a>&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#86288669b638000acf9548272f73e7f6">usbDescriptorConfiguration</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#f7c7b7892c3be6693e9107a0b4e1a75e">PRG_RDB</a>(addr)&nbsp;&nbsp;&nbsp;pgm_read_byte(addr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#4f20ce9fae0dc2160ae0e8c3d8934f15">GET_DESCRIPTOR</a>(cfgProp, staticName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#466c165427ebc11a0a9fb48deb3fe54e">SET_REPLY_LEN</a>(len)&nbsp;&nbsp;&nbsp;replyLen = (len); <a class="el" href="usbdrv_2usbdrv_8h.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a> = replyData</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">USB_PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#afa474a799eed02d362bfdfb8a36602c">usbSetInterrupt</a> (uchar *data, uchar len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">USB_PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#188162c29eb62ffbd2d33763d20e12b4">usbPoll</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">USB_PUBLIC void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#5672a0c07f0f8e93bde4579d278e6307">usbInit</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a> [2 *USB_BUFSIZE]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#6b0f7b83997deee705eb56462e3f1fce">usbInputBufOffset</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#3f91a04b325ad5232d270839891e5856">usbDeviceAddr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#b9c08d1850db1e4d9feea687bc129425">usbNewDeviceAddr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#a43502fd98afab29fcd5115c1f2c4067">usbConfiguration</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile schar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#e302a61abfeb0784f42a903dd44aad1e">usbCurrentTok</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#e2a9422baba7da8914129e0784ab2c05">usbRxToken</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#5d017abeeddd393d4abda00257c73930">usbMsgLen</a> = 0xff</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#6d1c6f67a95541d4f45d26dd80e07693">usbTxLen</a> = USBPID_NAK</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#2e8d07fcad8aa462b6a1f51e7968f3cb">usbTxBuf</a> [USB_BUFSIZE]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#6c1902650e72ac69e542d086df6fe43c">usbTxLen1</a> = USBPID_NAK</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a> [USB_BUFSIZE]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#c16de84418d64a0e74a4e551fc9ac786">usbDescriptorString0</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#9974e0350b3ad7adafc3b1f0a47278ca">usbDescriptorStringVendor</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#030c4d21be999d0deafccc65499a44df">usbDescriptorStringDevice</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#4832dd2433bcc12b444a31dc4a8bfc49">usbDescriptorDevice</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdrv_2usbdrv_8c.html#86288669b638000acf9548272f73e7f6">usbDescriptorConfiguration</a> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="4f20ce9fae0dc2160ae0e8c3d8934f15"></a><!-- doxytag: member="usbdrv.c::GET_DESCRIPTOR" ref="4f20ce9fae0dc2160ae0e8c3d8934f15" args="(cfgProp, staticName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GET_DESCRIPTOR          </td>
          <td>(</td>
          <td class="paramtype">cfgProp,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">staticName&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>(cfgProp){                                    \
        <span class="keywordflow">if</span>((cfgProp) &amp; <a class="code" href="usbdrv_2usbdrv_8h.html#316a7fbfdf2ffb5155980cb14f93d53d">USB_PROP_IS_RAM</a>)             \
            flags &amp;= ~<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8c.html#06db19dbad17d54fc6f3742ab0afba69">USB_FLG_MSGPTR_IS_ROM</a>;        \
        <span class="keywordflow">if</span>((cfgProp) &amp; <a class="code" href="usbdrv_2usbdrv_8h.html#25fffb901b71f003f9d90c411f998b36">USB_PROP_IS_DYNAMIC</a>){        \
            replyLen = <a class="code" href="usbdrv_2usbdrv_8h.html#ede5c83b3ad4c5e4795d9ba6add8f01c">usbFunctionDescriptor</a>(rq);   \
        }<span class="keywordflow">else</span>{                                      \
            replyData = (<a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a> *)(staticName);      \
            <a class="code" href="usbdrv_2usbdrv_8c.html#466c165427ebc11a0a9fb48deb3fe54e">SET_REPLY_LEN</a>((cfgProp) &amp; 0xff);        \
        }                                           \
    }
</pre></div>
<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00303">303</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="f7c7b7892c3be6693e9107a0b4e1a75e"></a><!-- doxytag: member="usbdrv.c::PRG_RDB" ref="f7c7b7892c3be6693e9107a0b4e1a75e" args="(addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRG_RDB          </td>
          <td>(</td>
          <td class="paramtype">addr&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;pgm_read_byte(addr)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00191">191</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="466c165427ebc11a0a9fb48deb3fe54e"></a><!-- doxytag: member="usbdrv.c::SET_REPLY_LEN" ref="466c165427ebc11a0a9fb48deb3fe54e" args="(len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_REPLY_LEN          </td>
          <td>(</td>
          <td class="paramtype">len&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;replyLen = (len); <a class="el" href="usbdrv_2usbdrv_8h.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a> = replyData</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8aae9f682ca9f91faae0453e4351a50b"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_CONFIGURATION" ref="8aae9f682ca9f91faae0453e4351a50b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_CONFIGURATION&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#86288669b638000acf9548272f73e7f6">usbDescriptorConfiguration</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00142">142</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="a916bf33f6f8f481a219d0a81b5b225e"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_DEVICE" ref="a916bf33f6f8f481a219d0a81b5b225e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_DEVICE&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#4832dd2433bcc12b444a31dc4a8bfc49">usbDescriptorDevice</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00113">113</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="dfbd53b5310c36b1e4b06d6a3b992e8a"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_HID" ref="dfbd53b5310c36b1e4b06d6a3b992e8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_HID&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00137">137</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="9c0556a4c6c5a1ab8f6598aee8e5bf6a"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_STRING_0" ref="9c0556a4c6c5a1ab8f6598aee8e5bf6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_STRING_0&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#c16de84418d64a0e74a4e551fc9ac786">usbDescriptorString0</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00074">74</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="a08084f9755a643e02d469b66b129ef6"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_STRING_PRODUCT" ref="a08084f9755a643e02d469b66b129ef6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_STRING_PRODUCT&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#030c4d21be999d0deafccc65499a44df">usbDescriptorStringDevice</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00093">93</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="55edf2117128387162339d98ba2af0f4"></a><!-- doxytag: member="usbdrv.c::USB_CFG_DESCR_PROPS_STRING_VENDOR" ref="55edf2117128387162339d98ba2af0f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_CFG_DESCR_PROPS_STRING_VENDOR&nbsp;&nbsp;&nbsp;sizeof(<a class="el" href="usbdrv_2usbdrv_8h.html#9974e0350b3ad7adafc3b1f0a47278ca">usbDescriptorStringVendor</a>)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00084">84</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="06db19dbad17d54fc6f3742ab0afba69"></a><!-- doxytag: member="usbdrv.c::USB_FLG_MSGPTR_IS_ROM" ref="06db19dbad17d54fc6f3742ab0afba69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_FLG_MSGPTR_IS_ROM&nbsp;&nbsp;&nbsp;(1&lt;&lt;6)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00057">57</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="2a36a35f900ede87e7c897bc778065c8"></a><!-- doxytag: member="usbdrv.c::USB_FLG_TX_PACKET" ref="2a36a35f900ede87e7c897bc778065c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_FLG_TX_PACKET&nbsp;&nbsp;&nbsp;(1&lt;&lt;0)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00055">55</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="5e3bb8fb87bbde80118c36559bf41bcb"></a><!-- doxytag: member="usbdrv.c::USB_FLG_USE_DEFAULT_RW" ref="5e3bb8fb87bbde80118c36559bf41bcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_FLG_USE_DEFAULT_RW&nbsp;&nbsp;&nbsp;(1&lt;&lt;7)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00058">58</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="5672a0c07f0f8e93bde4579d278e6307"></a><!-- doxytag: member="usbdrv.c::usbInit" ref="5672a0c07f0f8e93bde4579d278e6307" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB_PUBLIC void usbInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00566">566</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00567"></a>00567 {
<a name="l00568"></a>00568 <span class="preprocessor">#if USB_INTR_CFG_SET != 0</span>
<a name="l00569"></a>00569 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#34cb3bb685c3a6f9c8a63f3a948799b6">USB_INTR_CFG</a> |= <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ab47b4721030fcf7b773ab33f8e0f1c9">USB_INTR_CFG_SET</a>;
<a name="l00570"></a>00570 <span class="preprocessor">#endif</span>
<a name="l00571"></a>00571 <span class="preprocessor"></span><span class="preprocessor">#if USB_INTR_CFG_CLR != 0</span>
<a name="l00572"></a>00572 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#34cb3bb685c3a6f9c8a63f3a948799b6">USB_INTR_CFG</a> &amp;= ~(<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#aaa3f824f11c2a5e75acb3841063120d">USB_INTR_CFG_CLR</a>);
<a name="l00573"></a>00573 <span class="preprocessor">#endif</span>
<a name="l00574"></a>00574 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#0259fea2ff25be5c0cd58cce07526f84">USB_INTR_ENABLE</a> |= (1 &lt;&lt; <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#3d028bbfd2e3e723bba54a4ac8fd584c">USB_INTR_ENABLE_BIT</a>);
<a name="l00575"></a>00575     usbResetDataToggling();
<a name="l00576"></a>00576 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="188162c29eb62ffbd2d33763d20e12b4"></a><!-- doxytag: member="usbdrv.c::usbPoll" ref="188162c29eb62ffbd2d33763d20e12b4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB_PUBLIC void usbPoll           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">526</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00527"></a>00527 {
<a name="l00528"></a>00528 <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#f2cbb84f982ea77dfbb738af3a027591">schar</a>   len;
<a name="l00529"></a>00529 <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>   i;
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="keywordflow">if</span>((len = <a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a>) &gt; 0){
<a name="l00532"></a>00532 <span class="comment">/* We could check CRC16 here -- but ACK has already been sent anyway. If you</span>
<a name="l00533"></a>00533 <span class="comment"> * need data integrity checks with this driver, check the CRC in your app</span>
<a name="l00534"></a>00534 <span class="comment"> * code and report errors back to the host. Since the ACK was already sent,</span>
<a name="l00535"></a>00535 <span class="comment"> * retries must be handled on application level.</span>
<a name="l00536"></a>00536 <span class="comment"> * unsigned crc = usbCrc16(buffer + 1, usbRxLen - 3);</span>
<a name="l00537"></a>00537 <span class="comment"> */</span>
<a name="l00538"></a>00538         usbProcessRx(<a class="code" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a> + <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1c541dbab181ea7bd3da61b892430988">USB_BUFSIZE</a> + 1 - <a class="code" href="usbdrv_2usbdrv_8c.html#6b0f7b83997deee705eb56462e3f1fce">usbInputBufOffset</a>, len - 3);
<a name="l00539"></a>00539 <span class="preprocessor">#if USB_CFG_HAVE_FLOWCONTROL</span>
<a name="l00540"></a>00540 <span class="preprocessor"></span>        <span class="keywordflow">if</span>(<a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a> &gt; 0)    <span class="comment">/* only mark as available if not inactivated */</span>
<a name="l00541"></a>00541             <a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a> = 0;
<a name="l00542"></a>00542 <span class="preprocessor">#else</span>
<a name="l00543"></a>00543 <span class="preprocessor"></span>        <a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a> = 0;       <span class="comment">/* mark rx buffer as available */</span>
<a name="l00544"></a>00544 <span class="preprocessor">#endif</span>
<a name="l00545"></a>00545 <span class="preprocessor"></span>    }
<a name="l00546"></a>00546     <span class="keywordflow">if</span>(<a class="code" href="usbdrv_2usbdrv_8c.html#6d1c6f67a95541d4f45d26dd80e07693">usbTxLen</a> &amp; 0x10){ <span class="comment">/* transmit system idle */</span>
<a name="l00547"></a>00547         <span class="keywordflow">if</span>(<a class="code" href="usbdrv_2usbdrv_8c.html#5d017abeeddd393d4abda00257c73930">usbMsgLen</a> != 0xff){  <span class="comment">/* transmit data pending? */</span>
<a name="l00548"></a>00548             usbBuildTxBlock();
<a name="l00549"></a>00549         }
<a name="l00550"></a>00550     }
<a name="l00551"></a>00551     <span class="keywordflow">for</span>(i = 10; i &gt; 0; i--){
<a name="l00552"></a>00552         <span class="keywordflow">if</span>(isNotSE0())
<a name="l00553"></a>00553             <span class="keywordflow">break</span>;
<a name="l00554"></a>00554     }
<a name="l00555"></a>00555     <span class="keywordflow">if</span>(i == 0){ <span class="comment">/* RESET condition, called multiple times during reset */</span>
<a name="l00556"></a>00556         <a class="code" href="usbdrv_2usbdrv_8c.html#b9c08d1850db1e4d9feea687bc129425">usbNewDeviceAddr</a> = 0;
<a name="l00557"></a>00557         <a class="code" href="usbdrv_2usbdrv_8c.html#3f91a04b325ad5232d270839891e5856">usbDeviceAddr</a> = 0;
<a name="l00558"></a>00558         usbResetStall();
<a name="l00559"></a>00559         <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#1b3ae5f24b3863d451c3648fa2ff57be">DBG1</a>(0xff, 0, 0);
<a name="l00560"></a>00560     }
<a name="l00561"></a>00561     usbHandleResetHook(i);
<a name="l00562"></a>00562 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="afa474a799eed02d362bfdfb8a36602c"></a><!-- doxytag: member="usbdrv.c::usbSetInterrupt" ref="afa474a799eed02d362bfdfb8a36602c" args="(uchar *data, uchar len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB_PUBLIC void usbSetInterrupt           </td>
          <td>(</td>
          <td class="paramtype">uchar *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uchar&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">229</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00230"></a>00230 {
<a name="l00231"></a>00231 <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>       *p, i;
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="preprocessor">#if USB_CFG_IMPLEMENT_HALT</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> == <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1a3759da5a10e0fb525fbf619b3bdb53">USBPID_STALL</a>)
<a name="l00235"></a>00235         <span class="keywordflow">return</span>;
<a name="l00236"></a>00236 <span class="preprocessor">#endif</span>
<a name="l00237"></a>00237 <span class="preprocessor"></span><span class="preprocessor">#if 0   </span><span class="comment">/* No runtime checks! Caller is responsible for valid data! */</span>
<a name="l00238"></a>00238     <span class="keywordflow">if</span>(len &gt; 8) <span class="comment">/* interrupt transfers are limited to 8 bytes */</span>
<a name="l00239"></a>00239         len = 8;
<a name="l00240"></a>00240 <span class="preprocessor">#endif</span>
<a name="l00241"></a>00241 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> &amp; 0x10){   <span class="comment">/* packet buffer was empty */</span>
<a name="l00242"></a>00242         <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>[0] ^= <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ddf02692d5a80756e8edfa12f1fb50c6">USBPID_DATA0</a> ^ <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#62e5930e01b6235dd17be080135f1546">USBPID_DATA1</a>;    <span class="comment">/* toggle token */</span>
<a name="l00243"></a>00243     }<span class="keywordflow">else</span>{
<a name="l00244"></a>00244         <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> = <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#481d1276a9efab04a3ab871b87771aac">USBPID_NAK</a>; <span class="comment">/* avoid sending outdated (overwritten) interrupt data */</span>
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246     p = <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a> + 1;
<a name="l00247"></a>00247     <span class="keywordflow">for</span>(i=len;i--;)
<a name="l00248"></a>00248         *p++ = *data++;
<a name="l00249"></a>00249     <a class="code" href="usbdrv_2usbdrv_8h.html#96a513e4c0943ba6bd42aa1289874340">usbCrc16Append</a>(&amp;<a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>[1], len);
<a name="l00250"></a>00250     <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> = len + 4;    <span class="comment">/* len must be given including sync byte */</span>
<a name="l00251"></a>00251     <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#6c91367860ab33a44869e241022d5b0f">DBG2</a>(0x21, <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>, len + 3);
<a name="l00252"></a>00252 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a43502fd98afab29fcd5115c1f2c4067"></a><!-- doxytag: member="usbdrv.c::usbConfiguration" ref="a43502fd98afab29fcd5115c1f2c4067" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8h.html#a43502fd98afab29fcd5115c1f2c4067">usbConfiguration</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00032">32</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="e302a61abfeb0784f42a903dd44aad1e"></a><!-- doxytag: member="usbdrv.c::usbCurrentTok" ref="e302a61abfeb0784f42a903dd44aad1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#e302a61abfeb0784f42a903dd44aad1e">usbCurrentTok</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00034">34</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="86288669b638000acf9548272f73e7f6"></a><!-- doxytag: member="usbdrv.c::usbDescriptorConfiguration" ref="86288669b638000acf9548272f73e7f6" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char <a class="el" href="usbdrv_2usbdrv_8h.html#86288669b638000acf9548272f73e7f6">usbDescriptorConfiguration</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00143">143</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="4832dd2433bcc12b444a31dc4a8bfc49"></a><!-- doxytag: member="usbdrv.c::usbDescriptorDevice" ref="4832dd2433bcc12b444a31dc4a8bfc49" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char <a class="el" href="usbdrv_2usbdrv_8h.html#4832dd2433bcc12b444a31dc4a8bfc49">usbDescriptorDevice</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {    
    18,         
    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#5b76593f7b6295a4a599aba4476ec258">USBDESCR_DEVICE</a>,        
    0x10, 0x01,             
    <a class="code" href="bootloader__firmware_2usbconfig_8h.html#9ce4f96ad98b3db8205691e8bc723e55">USB_CFG_DEVICE_CLASS</a>,
    <a class="code" href="bootloader__firmware_2usbconfig_8h.html#89e5ad66f8b835866e7d836c73bfd30d">USB_CFG_DEVICE_SUBCLASS</a>,
    0,                      
    8,                      
    
    (char)<a class="code" href="usbconfig_8h.html#9326b8ec9f809ce66d54349691646930">USB_CFG_VENDOR_ID</a>,
    (<span class="keywordtype">char</span>)<a class="code" href="usbconfig_8h.html#bc740455309399430b0f49bf7931d1d7">USB_CFG_DEVICE_ID</a>,
    <a class="code" href="bootloader__firmware_2usbconfig_8h.html#ba3c7c0cd4055ba3bbf5df38e57b6d27">USB_CFG_DEVICE_VERSION</a>, 
    <a class="code" href="usbconfig_8h.html#55edf2117128387162339d98ba2af0f4">USB_CFG_DESCR_PROPS_STRING_VENDOR</a> != 0 ? 1 : 0,         
    <a class="code" href="usbconfig_8h.html#a08084f9755a643e02d469b66b129ef6">USB_CFG_DESCR_PROPS_STRING_PRODUCT</a> != 0 ? 2 : 0,        
    <a class="code" href="usbconfig_8h.html#82224c07d3a1f9fcccbff70b71c8ea51">USB_CFG_DESCR_PROPS_STRING_SERIAL_NUMBER</a> != 0 ? 3 : 0,  
    1,          
}
</pre></div>
<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00114">114</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="c16de84418d64a0e74a4e551fc9ac786"></a><!-- doxytag: member="usbdrv.c::usbDescriptorString0" ref="c16de84418d64a0e74a4e551fc9ac786" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> char <a class="el" href="usbdrv_2usbdrv_8h.html#c16de84418d64a0e74a4e551fc9ac786">usbDescriptorString0</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> { 
    4,          
    3,          
    0x09, 0x04, 
}
</pre></div>
<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00075">75</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="030c4d21be999d0deafccc65499a44df"></a><!-- doxytag: member="usbdrv.c::usbDescriptorStringDevice" ref="030c4d21be999d0deafccc65499a44df" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> int <a class="el" href="usbdrv_2usbdrv_8h.html#030c4d21be999d0deafccc65499a44df">usbDescriptorStringDevice</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d94ebd3045d80d1e2ab32c22be4ff96e">USB_STRING_DESCRIPTOR_HEADER</a>(<a class="code" href="bootloader__firmware_2usbconfig_8h.html#e68f17e6baf13805abc56e74beadeb57">USB_CFG_DEVICE_NAME_LEN</a>),
    <a class="code" href="bootloader__firmware_2usbconfig_8h.html#9b482a2b2740652ffe7dcb6695ca0c91">USB_CFG_DEVICE_NAME</a>
}
</pre></div>
<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00094">94</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="9974e0350b3ad7adafc3b1f0a47278ca"></a><!-- doxytag: member="usbdrv.c::usbDescriptorStringVendor" ref="9974e0350b3ad7adafc3b1f0a47278ca" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> int <a class="el" href="usbdrv_2usbdrv_8h.html#9974e0350b3ad7adafc3b1f0a47278ca">usbDescriptorStringVendor</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d94ebd3045d80d1e2ab32c22be4ff96e">USB_STRING_DESCRIPTOR_HEADER</a>(<a class="code" href="bootloader__firmware_2usbconfig_8h.html#3085d820d9dc6e939737a3f1b9a457d7">USB_CFG_VENDOR_NAME_LEN</a>),
    <a class="code" href="bootloader__firmware_2usbconfig_8h.html#25a2baf5c8feb0982a47050423add0ec">USB_CFG_VENDOR_NAME</a>
}
</pre></div>
<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00085">85</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="3f91a04b325ad5232d270839891e5856"></a><!-- doxytag: member="usbdrv.c::usbDeviceAddr" ref="3f91a04b325ad5232d270839891e5856" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#3f91a04b325ad5232d270839891e5856">usbDeviceAddr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00030">30</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6b0f7b83997deee705eb56462e3f1fce"></a><!-- doxytag: member="usbdrv.c::usbInputBufOffset" ref="6b0f7b83997deee705eb56462e3f1fce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#6b0f7b83997deee705eb56462e3f1fce">usbInputBufOffset</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00029">29</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5d017abeeddd393d4abda00257c73930"></a><!-- doxytag: member="usbdrv.c::usbMsgLen" ref="5d017abeeddd393d4abda00257c73930" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#5d017abeeddd393d4abda00257c73930">usbMsgLen</a> = 0xff          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00036">36</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00452">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5f78c8584830588b8c0c8f2a27772f8e"></a><!-- doxytag: member="usbdrv.c::usbMsgPtr" ref="5f78c8584830588b8c0c8f2a27772f8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar* <a class="el" href="usbdrv_2usbdrv_8h.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00052">52</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="b9c08d1850db1e4d9feea687bc129425"></a><!-- doxytag: member="usbdrv.c::usbNewDeviceAddr" ref="b9c08d1850db1e4d9feea687bc129425" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#b9c08d1850db1e4d9feea687bc129425">usbNewDeviceAddr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00031">31</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="50d7f851abf281804143e797d0bfbf04"></a><!-- doxytag: member="usbdrv.c::usbRxBuf" ref="50d7f851abf281804143e797d0bfbf04" args="[2 *USB_BUFSIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a>[2 *USB_BUFSIZE]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00028">28</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>, and <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00452">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3d8dd46333d7cf2258067c00428efc47"></a><!-- doxytag: member="usbdrv.c::usbRxLen" ref="3d8dd46333d7cf2258067c00428efc47" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile schar <a class="el" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00033">33</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e2a9422baba7da8914129e0784ab2c05"></a><!-- doxytag: member="usbdrv.c::usbRxToken" ref="e2a9422baba7da8914129e0784ab2c05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#e2a9422baba7da8914129e0784ab2c05">usbRxToken</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00035">35</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="2e8d07fcad8aa462b6a1f51e7968f3cb"></a><!-- doxytag: member="usbdrv.c::usbTxBuf" ref="2e8d07fcad8aa462b6a1f51e7968f3cb" args="[USB_BUFSIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8c.html#2e8d07fcad8aa462b6a1f51e7968f3cb">usbTxBuf</a>[USB_BUFSIZE]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00038">38</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="92ad467856cc7e0efeafcda41671ea75"></a><!-- doxytag: member="usbdrv.c::usbTxBuf1" ref="92ad467856cc7e0efeafcda41671ea75" args="[USB_BUFSIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8h.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>[USB_BUFSIZE]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00044">44</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">usbSetInterrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6d1c6f67a95541d4f45d26dd80e07693"></a><!-- doxytag: member="usbdrv.c::usbTxLen" ref="6d1c6f67a95541d4f45d26dd80e07693" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uchar <a class="el" href="usbdrv_2usbdrv_8c.html#6d1c6f67a95541d4f45d26dd80e07693">usbTxLen</a> = USBPID_NAK          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00037">37</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6c1902650e72ac69e542d086df6fe43c"></a><!-- doxytag: member="usbdrv.c::usbTxLen1" ref="6c1902650e72ac69e542d086df6fe43c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uchar <a class="el" href="usbdrv_2usbdrv_8h.html#6c1902650e72ac69e542d086df6fe43c">usbTxLen1</a> = USBPID_NAK          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00043">43</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">usbSetInterrupt()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 30 15:43:34 2009 for USB IR HID Device by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
