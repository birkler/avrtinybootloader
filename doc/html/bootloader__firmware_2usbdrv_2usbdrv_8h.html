<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>USB IR HID Device: bootloader_firmware/usbdrv/usbdrv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>bootloader_firmware/usbdrv/usbdrv.h File Reference</h1><code>#include &quot;<a class="el" href="usbconfig_8h-source.html">usbconfig.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="bootloader__firmware_2usbdrv_2iarcompat_8h-source.html">iarcompat.h</a>&quot;</code><br>

<p>
<a href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">union &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionusbWord.html">usbWord</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusbRequest.html">usbRequest</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#938381382a94d1c945b7233fcfa78e0e">USBDRV_VERSION</a>&nbsp;&nbsp;&nbsp;20060314</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>&nbsp;&nbsp;&nbsp;unsigned char</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#f2cbb84f982ea77dfbb738af3a027591">schar</a>&nbsp;&nbsp;&nbsp;signed char</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1f6b221fb650a7575d4937e37956181d">usbInterruptIsReady</a>()&nbsp;&nbsp;&nbsp;(<a class="el" href="usbdrv_2usbdrv_8h.html#6c1902650e72ac69e542d086df6fe43c">usbTxLen1</a> == -1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d94ebd3045d80d1e2ab32c22be4ff96e">USB_STRING_DESCRIPTOR_HEADER</a>(stringLength)&nbsp;&nbsp;&nbsp;((2*(stringLength)+2) | (3&lt;&lt;8))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#52a8394f6e172b45975aa2ffda16acca">USB_BUFFER_SECTION</a>&nbsp;&nbsp;&nbsp;&quot;.bss&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d95fd90d841998e6b54cb99c49ee1247">USBOUT</a>&nbsp;&nbsp;&nbsp;USB_CFG_IOPORT</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#9ccc1a2e3438323da07a7a784a0884c1">USB_PULLUP_OUT</a>&nbsp;&nbsp;&nbsp;USB_CFG_PULLUP_IOPORT</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#85296740a603c928460d39ef9be869a4">USBIN</a>&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_IOPORT - 2))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#3ffc8a49ee40206cfce717574a1ccfea">USBDDR</a>&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_IOPORT - 1))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#640f2f1d7da9563b9ba418128d539df9">USB_PULLUP_DDR</a>&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_PULLUP_IOPORT - 1))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d84a1c137f273772bcba266e0a671d33">USBMINUS</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#c25f08289ea025246d9682f4ea84ff17">USBIDLE</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#0140266b6db5af6ba9167f04a91ca076">USBMASK</a>&nbsp;&nbsp;&nbsp;((1&lt;&lt;USB_CFG_DPLUS_BIT) | 1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1c541dbab181ea7bd3da61b892430988">USB_BUFSIZE</a>&nbsp;&nbsp;&nbsp;11</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#34cb3bb685c3a6f9c8a63f3a948799b6">USB_INTR_CFG</a>&nbsp;&nbsp;&nbsp;MCUCR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ab47b4721030fcf7b773ab33f8e0f1c9">USB_INTR_CFG_SET</a>&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ISC00) | (1 &lt;&lt; ISC01))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#aaa3f824f11c2a5e75acb3841063120d">USB_INTR_CFG_CLR</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#0259fea2ff25be5c0cd58cce07526f84">USB_INTR_ENABLE</a>&nbsp;&nbsp;&nbsp;GICR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#3d028bbfd2e3e723bba54a4ac8fd584c">USB_INTR_ENABLE_BIT</a>&nbsp;&nbsp;&nbsp;INT0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#7011ecaa1385467e7f81909c356a1266">USB_INTR_PENDING</a>&nbsp;&nbsp;&nbsp;GIFR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#bdde2e43a66667f867e3b9ad89a0a31a">USB_INTR_PENDING_BIT</a>&nbsp;&nbsp;&nbsp;INTF0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#3e2083acfa1300227dce323ca04db880">USBPID_SETUP</a>&nbsp;&nbsp;&nbsp;0x2d</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#9936cc61bf15c8005def560c71a49498">USBPID_OUT</a>&nbsp;&nbsp;&nbsp;0xe1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#52af2ebd3640f70b8a5200aea73b6eab">USBPID_IN</a>&nbsp;&nbsp;&nbsp;0x69</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ddf02692d5a80756e8edfa12f1fb50c6">USBPID_DATA0</a>&nbsp;&nbsp;&nbsp;0xc3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#62e5930e01b6235dd17be080135f1546">USBPID_DATA1</a>&nbsp;&nbsp;&nbsp;0x4b</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#7f9994b8bc3a4864604aa8041ed90faf">USBPID_ACK</a>&nbsp;&nbsp;&nbsp;0xd2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#481d1276a9efab04a3ab871b87771aac">USBPID_NAK</a>&nbsp;&nbsp;&nbsp;0x5a</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1a3759da5a10e0fb525fbf619b3bdb53">USBPID_STALL</a>&nbsp;&nbsp;&nbsp;0x1e</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#5ae0c6cdfa26c87300c3a01aa2b0c7e2">USBRQ_RCPT_MASK</a>&nbsp;&nbsp;&nbsp;0x1f</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#eb145a6378e20ee3aedaa81fffd08d5d">USBRQ_RCPT_DEVICE</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#fc17e89d6963cc359d8f7de2f7a1e39d">USBRQ_RCPT_INTERFACE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#6c25d62097af881d30af436c07773a26">USBRQ_RCPT_ENDPOINT</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ef7b9c4cc4266e79c677fd42e2abb40e">USBRQ_TYPE_MASK</a>&nbsp;&nbsp;&nbsp;0x60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#a2eaf9447ddfc30442e8b6bd13cfd969">USBRQ_TYPE_STANDARD</a>&nbsp;&nbsp;&nbsp;(0&lt;&lt;5)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#5c5f92099964ea08cc8cf0bccb8ca4ed">USBRQ_TYPE_CLASS</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;5)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#c4992ceee7d8bd052dedb4ac63599cdc">USBRQ_TYPE_VENDOR</a>&nbsp;&nbsp;&nbsp;(2&lt;&lt;5)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#7754f61bfa2e16800aa396896092f50a">USBRQ_DIR_MASK</a>&nbsp;&nbsp;&nbsp;0x80</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#a187b3efe1a0ef577e6f695a47608bef">USBRQ_DIR_HOST_TO_DEVICE</a>&nbsp;&nbsp;&nbsp;(0&lt;&lt;7)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#04a0c4970f7371115638586bc8a14325">USBRQ_DIR_DEVICE_TO_HOST</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;7)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#523252bd739d1b14018ec34e49466d72">USBRQ_GET_STATUS</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#82766d6fb4294e1cb5f7cb2086e81715">USBRQ_CLEAR_FEATURE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1802461b0f91708022a66f407fadd1f1">USBRQ_SET_FEATURE</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#6837bf1e17c56a25b97db0be68b03519">USBRQ_SET_ADDRESS</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#225b041572762941a96694d5498e853e">USBRQ_GET_DESCRIPTOR</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2fb2a12d1a7d37bce6bcf535f48ade9e">USBRQ_SET_DESCRIPTOR</a>&nbsp;&nbsp;&nbsp;7</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#16d2228bcfa8944c18a39df43016cea5">USBRQ_GET_CONFIGURATION</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#fc6adbbfd47da950ccf50277a41bfe58">USBRQ_SET_CONFIGURATION</a>&nbsp;&nbsp;&nbsp;9</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#44a94b5f45d9ffb957b9590eea8a73a4">USBRQ_GET_INTERFACE</a>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#904cc1bbdd859501d590ce47099a49ec">USBRQ_SET_INTERFACE</a>&nbsp;&nbsp;&nbsp;11</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#c4b47c9502650f6a74714f852825746c">USBRQ_SYNCH_FRAME</a>&nbsp;&nbsp;&nbsp;12</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#5b76593f7b6295a4a599aba4476ec258">USBDESCR_DEVICE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#6ff1081ad7212a0c7009ef5b79f3669f">USBDESCR_CONFIG</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#abd48b46ba597bd32ce5c64a7aad23c4">USBDESCR_STRING</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#1ce81e6fb124d8747018b4343faa65ba">USBDESCR_INTERFACE</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#b2c475dbe374ed8bc514893fb97a6083">USBDESCR_ENDPOINT</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#de4fe1fba6aca94a379fdbacbbcc6800">USBDESCR_HID</a>&nbsp;&nbsp;&nbsp;0x21</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#f2ef6d7e2fe214a3d3a14f5419550bb0">USBDESCR_HID_REPORT</a>&nbsp;&nbsp;&nbsp;0x22</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#046aff487dd2c149d8df8ebf01a1f05d">USBDESCR_HID_PHYS</a>&nbsp;&nbsp;&nbsp;0x23</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#9731bc516bc018f3b0f50a455d5a5681">USBATTR_BUSPOWER</a>&nbsp;&nbsp;&nbsp;0x80</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#fa0dd9c06af4b033461ba3c755ca90bb">USBATTR_SELFPOWER</a>&nbsp;&nbsp;&nbsp;0x40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#4f6ede34dea10d728413690ac694a74b">USBATTR_REMOTEWAKE</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#b0c796905d6a7d0bfc605f8c3e252437">USBRQ_HID_GET_REPORT</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ebf7c3254b56413d7679b89bb99e144c">USBRQ_HID_GET_IDLE</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#c70990c038444434de16c30399e92640">USBRQ_HID_GET_PROTOCOL</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#f0b62de651c6d73af4cfb1cee123c312">USBRQ_HID_SET_REPORT</a>&nbsp;&nbsp;&nbsp;0x09</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#0d7b2ebb28c23a8bd2fb4a630b85ad71">USBRQ_HID_SET_IDLE</a>&nbsp;&nbsp;&nbsp;0x0a</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#831d5e0db9e559706e54acc2e7b5278c">USBRQ_HID_SET_PROTOCOL</a>&nbsp;&nbsp;&nbsp;0x0b</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef union <a class="el" href="unionusbWord.html">usbWord</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#992d37ca7c2980c180e963d4f78a30ea">usbWord_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="structusbRequest.html">usbRequest</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#fc46c8aeec21279368fa6147d3880564">usbRequest_t</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#4552b1c9fe142a402c84c15444d3d927">usbInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#602c14b8f268adeae6896014c9a79909">usbPoll</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#e6f351eca7bf6fb1251f9a478cbae2b0">usbFunctionSetup</a> (uchar data[8])</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d3eef923d7e69592f8b3aa3bf983bb92">usbSetInterrupt</a> (uchar *data, uchar len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#d5d100bf4116d533ac4a61546f42ab41">usbCrc16</a> (uchar *data, uchar len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#59c610716d5103b35aca840d8af6600b">usbCrc16Append</a> (unsigned char *data, unsigned char len)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile schar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#6eddceb59225e44310eb3d165695254a">usbHidReportDescriptor</a> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uchar&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#a43502fd98afab29fcd5115c1f2c4067">usbConfiguration</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f2cbb84f982ea77dfbb738af3a027591"></a><!-- doxytag: member="usbdrv.h::schar" ref="f2cbb84f982ea77dfbb738af3a027591" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define schar&nbsp;&nbsp;&nbsp;signed char          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00139">139</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a8ddf20cdd716b652e76e23e5e700893"></a><!-- doxytag: member="usbdrv.h::uchar" ref="a8ddf20cdd716b652e76e23e5e700893" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uchar&nbsp;&nbsp;&nbsp;unsigned char          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00136">136</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="52a8394f6e172b45975aa2ffda16acca"></a><!-- doxytag: member="usbdrv.h::USB_BUFFER_SECTION" ref="52a8394f6e172b45975aa2ffda16acca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_BUFFER_SECTION&nbsp;&nbsp;&nbsp;&quot;.bss&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00305">305</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1c541dbab181ea7bd3da61b892430988"></a><!-- doxytag: member="usbdrv.h::USB_BUFSIZE" ref="1c541dbab181ea7bd3da61b892430988" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_BUFSIZE&nbsp;&nbsp;&nbsp;11          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00327">327</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00526">usbPoll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="34cb3bb685c3a6f9c8a63f3a948799b6"></a><!-- doxytag: member="usbdrv.h::USB_INTR_CFG" ref="34cb3bb685c3a6f9c8a63f3a948799b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_CFG&nbsp;&nbsp;&nbsp;MCUCR          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00334">334</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="aaa3f824f11c2a5e75acb3841063120d"></a><!-- doxytag: member="usbdrv.h::USB_INTR_CFG_CLR" ref="aaa3f824f11c2a5e75acb3841063120d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_CFG_CLR&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00337">337</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ab47b4721030fcf7b773ab33f8e0f1c9"></a><!-- doxytag: member="usbdrv.h::USB_INTR_CFG_SET" ref="ab47b4721030fcf7b773ab33f8e0f1c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_CFG_SET&nbsp;&nbsp;&nbsp;((1 &lt;&lt; ISC00) | (1 &lt;&lt; ISC01))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00336">336</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0259fea2ff25be5c0cd58cce07526f84"></a><!-- doxytag: member="usbdrv.h::USB_INTR_ENABLE" ref="0259fea2ff25be5c0cd58cce07526f84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_ENABLE&nbsp;&nbsp;&nbsp;GICR          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00344">344</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3d028bbfd2e3e723bba54a4ac8fd584c"></a><!-- doxytag: member="usbdrv.h::USB_INTR_ENABLE_BIT" ref="3d028bbfd2e3e723bba54a4ac8fd584c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_ENABLE_BIT&nbsp;&nbsp;&nbsp;INT0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00346">346</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">usbInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7011ecaa1385467e7f81909c356a1266"></a><!-- doxytag: member="usbdrv.h::USB_INTR_PENDING" ref="7011ecaa1385467e7f81909c356a1266" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_PENDING&nbsp;&nbsp;&nbsp;GIFR          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00351">351</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="bdde2e43a66667f867e3b9ad89a0a31a"></a><!-- doxytag: member="usbdrv.h::USB_INTR_PENDING_BIT" ref="bdde2e43a66667f867e3b9ad89a0a31a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTR_PENDING_BIT&nbsp;&nbsp;&nbsp;INTF0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00353">353</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="640f2f1d7da9563b9ba418128d539df9"></a><!-- doxytag: member="usbdrv.h::USB_PULLUP_DDR" ref="640f2f1d7da9563b9ba418128d539df9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_PULLUP_DDR&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_PULLUP_IOPORT - 1))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00318">318</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9ccc1a2e3438323da07a7a784a0884c1"></a><!-- doxytag: member="usbdrv.h::USB_PULLUP_OUT" ref="9ccc1a2e3438323da07a7a784a0884c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_PULLUP_OUT&nbsp;&nbsp;&nbsp;USB_CFG_PULLUP_IOPORT          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00310">310</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d94ebd3045d80d1e2ab32c22be4ff96e"></a><!-- doxytag: member="usbdrv.h::USB_STRING_DESCRIPTOR_HEADER" ref="d94ebd3045d80d1e2ab32c22be4ff96e" args="(stringLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_STRING_DESCRIPTOR_HEADER          </td>
          <td>(</td>
          <td class="paramtype">stringLength&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((2*(stringLength)+2) | (3&lt;&lt;8))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00271">271</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9731bc516bc018f3b0f50a455d5a5681"></a><!-- doxytag: member="usbdrv.h::USBATTR_BUSPOWER" ref="9731bc516bc018f3b0f50a455d5a5681" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBATTR_BUSPOWER&nbsp;&nbsp;&nbsp;0x80          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00445">445</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4f6ede34dea10d728413690ac694a74b"></a><!-- doxytag: member="usbdrv.h::USBATTR_REMOTEWAKE" ref="4f6ede34dea10d728413690ac694a74b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBATTR_REMOTEWAKE&nbsp;&nbsp;&nbsp;0x20          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00447">447</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fa0dd9c06af4b033461ba3c755ca90bb"></a><!-- doxytag: member="usbdrv.h::USBATTR_SELFPOWER" ref="fa0dd9c06af4b033461ba3c755ca90bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBATTR_SELFPOWER&nbsp;&nbsp;&nbsp;0x40          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00446">446</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3ffc8a49ee40206cfce717574a1ccfea"></a><!-- doxytag: member="usbdrv.h::USBDDR" ref="3ffc8a49ee40206cfce717574a1ccfea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDDR&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_IOPORT - 1))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00317">317</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6ff1081ad7212a0c7009ef5b79f3669f"></a><!-- doxytag: member="usbdrv.h::USBDESCR_CONFIG" ref="6ff1081ad7212a0c7009ef5b79f3669f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_CONFIG&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00437">437</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b76593f7b6295a4a599aba4476ec258"></a><!-- doxytag: member="usbdrv.h::USBDESCR_DEVICE" ref="5b76593f7b6295a4a599aba4476ec258" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_DEVICE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00436">436</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b2c475dbe374ed8bc514893fb97a6083"></a><!-- doxytag: member="usbdrv.h::USBDESCR_ENDPOINT" ref="b2c475dbe374ed8bc514893fb97a6083" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_ENDPOINT&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00440">440</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="de4fe1fba6aca94a379fdbacbbcc6800"></a><!-- doxytag: member="usbdrv.h::USBDESCR_HID" ref="de4fe1fba6aca94a379fdbacbbcc6800" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_HID&nbsp;&nbsp;&nbsp;0x21          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00441">441</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="046aff487dd2c149d8df8ebf01a1f05d"></a><!-- doxytag: member="usbdrv.h::USBDESCR_HID_PHYS" ref="046aff487dd2c149d8df8ebf01a1f05d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_HID_PHYS&nbsp;&nbsp;&nbsp;0x23          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00443">443</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f2ef6d7e2fe214a3d3a14f5419550bb0"></a><!-- doxytag: member="usbdrv.h::USBDESCR_HID_REPORT" ref="f2ef6d7e2fe214a3d3a14f5419550bb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_HID_REPORT&nbsp;&nbsp;&nbsp;0x22          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00442">442</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1ce81e6fb124d8747018b4343faa65ba"></a><!-- doxytag: member="usbdrv.h::USBDESCR_INTERFACE" ref="1ce81e6fb124d8747018b4343faa65ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_INTERFACE&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00439">439</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="abd48b46ba597bd32ce5c64a7aad23c4"></a><!-- doxytag: member="usbdrv.h::USBDESCR_STRING" ref="abd48b46ba597bd32ce5c64a7aad23c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDESCR_STRING&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00438">438</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="938381382a94d1c945b7233fcfa78e0e"></a><!-- doxytag: member="usbdrv.h::USBDRV_VERSION" ref="938381382a94d1c945b7233fcfa78e0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDRV_VERSION&nbsp;&nbsp;&nbsp;20060314          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00125">125</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c25f08289ea025246d9682f4ea84ff17"></a><!-- doxytag: member="usbdrv.h::USBIDLE" ref="c25f08289ea025246d9682f4ea84ff17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBIDLE&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00324">324</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="85296740a603c928460d39ef9be869a4"></a><!-- doxytag: member="usbdrv.h::USBIN" ref="85296740a603c928460d39ef9be869a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBIN&nbsp;&nbsp;&nbsp;(*(&amp;USB_CFG_IOPORT - 2))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00316">316</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1f6b221fb650a7575d4937e37956181d"></a><!-- doxytag: member="usbdrv.h::usbInterruptIsReady" ref="1f6b221fb650a7575d4937e37956181d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define usbInterruptIsReady          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="usbdrv_2usbdrv_8h.html#6c1902650e72ac69e542d086df6fe43c">usbTxLen1</a> == -1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00195">195</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00466">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0140266b6db5af6ba9167f04a91ca076"></a><!-- doxytag: member="usbdrv.h::USBMASK" ref="0140266b6db5af6ba9167f04a91ca076" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBMASK&nbsp;&nbsp;&nbsp;((1&lt;&lt;USB_CFG_DPLUS_BIT) | 1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00325">325</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d84a1c137f273772bcba266e0a671d33"></a><!-- doxytag: member="usbdrv.h::USBMINUS" ref="d84a1c137f273772bcba266e0a671d33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBMINUS&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00323">323</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d95fd90d841998e6b54cb99c49ee1247"></a><!-- doxytag: member="usbdrv.h::USBOUT" ref="d95fd90d841998e6b54cb99c49ee1247" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBOUT&nbsp;&nbsp;&nbsp;USB_CFG_IOPORT          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00309">309</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7f9994b8bc3a4864604aa8041ed90faf"></a><!-- doxytag: member="usbdrv.h::USBPID_ACK" ref="7f9994b8bc3a4864604aa8041ed90faf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_ACK&nbsp;&nbsp;&nbsp;0xd2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00378">378</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00037">__attribute__()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ddf02692d5a80756e8edfa12f1fb50c6"></a><!-- doxytag: member="usbdrv.h::USBPID_DATA0" ref="ddf02692d5a80756e8edfa12f1fb50c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_DATA0&nbsp;&nbsp;&nbsp;0xc3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00375">375</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00196">usbSetInterrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="62e5930e01b6235dd17be080135f1546"></a><!-- doxytag: member="usbdrv.h::USBPID_DATA1" ref="62e5930e01b6235dd17be080135f1546" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_DATA1&nbsp;&nbsp;&nbsp;0x4b          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00376">376</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00196">usbSetInterrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="52af2ebd3640f70b8a5200aea73b6eab"></a><!-- doxytag: member="usbdrv.h::USBPID_IN" ref="52af2ebd3640f70b8a5200aea73b6eab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_IN&nbsp;&nbsp;&nbsp;0x69          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00374">374</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="481d1276a9efab04a3ab871b87771aac"></a><!-- doxytag: member="usbdrv.h::USBPID_NAK" ref="481d1276a9efab04a3ab871b87771aac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_NAK&nbsp;&nbsp;&nbsp;0x5a          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00379">379</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">usbSetInterrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9936cc61bf15c8005def560c71a49498"></a><!-- doxytag: member="usbdrv.h::USBPID_OUT" ref="9936cc61bf15c8005def560c71a49498" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_OUT&nbsp;&nbsp;&nbsp;0xe1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00373">373</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3e2083acfa1300227dce323ca04db880"></a><!-- doxytag: member="usbdrv.h::USBPID_SETUP" ref="3e2083acfa1300227dce323ca04db880" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_SETUP&nbsp;&nbsp;&nbsp;0x2d          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00372">372</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1a3759da5a10e0fb525fbf619b3bdb53"></a><!-- doxytag: member="usbdrv.h::USBPID_STALL" ref="1a3759da5a10e0fb525fbf619b3bdb53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBPID_STALL&nbsp;&nbsp;&nbsp;0x1e          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00380">380</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">usbSetInterrupt()</a>.</p>

</div>
</div><p>
<a class="anchor" name="82766d6fb4294e1cb5f7cb2086e81715"></a><!-- doxytag: member="usbdrv.h::USBRQ_CLEAR_FEATURE" ref="82766d6fb4294e1cb5f7cb2086e81715" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_CLEAR_FEATURE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00424">424</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="04a0c4970f7371115638586bc8a14325"></a><!-- doxytag: member="usbdrv.h::USBRQ_DIR_DEVICE_TO_HOST" ref="04a0c4970f7371115638586bc8a14325" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_DIR_DEVICE_TO_HOST&nbsp;&nbsp;&nbsp;(1&lt;&lt;7)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00420">420</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a187b3efe1a0ef577e6f695a47608bef"></a><!-- doxytag: member="usbdrv.h::USBRQ_DIR_HOST_TO_DEVICE" ref="a187b3efe1a0ef577e6f695a47608bef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_DIR_HOST_TO_DEVICE&nbsp;&nbsp;&nbsp;(0&lt;&lt;7)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00419">419</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7754f61bfa2e16800aa396896092f50a"></a><!-- doxytag: member="usbdrv.h::USBRQ_DIR_MASK" ref="7754f61bfa2e16800aa396896092f50a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_DIR_MASK&nbsp;&nbsp;&nbsp;0x80          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00418">418</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="16d2228bcfa8944c18a39df43016cea5"></a><!-- doxytag: member="usbdrv.h::USBRQ_GET_CONFIGURATION" ref="16d2228bcfa8944c18a39df43016cea5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_GET_CONFIGURATION&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00429">429</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="225b041572762941a96694d5498e853e"></a><!-- doxytag: member="usbdrv.h::USBRQ_GET_DESCRIPTOR" ref="225b041572762941a96694d5498e853e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_GET_DESCRIPTOR&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00427">427</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="44a94b5f45d9ffb957b9590eea8a73a4"></a><!-- doxytag: member="usbdrv.h::USBRQ_GET_INTERFACE" ref="44a94b5f45d9ffb957b9590eea8a73a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_GET_INTERFACE&nbsp;&nbsp;&nbsp;10          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00431">431</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="523252bd739d1b14018ec34e49466d72"></a><!-- doxytag: member="usbdrv.h::USBRQ_GET_STATUS" ref="523252bd739d1b14018ec34e49466d72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_GET_STATUS&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00423">423</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ebf7c3254b56413d7679b89bb99e144c"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_GET_IDLE" ref="ebf7c3254b56413d7679b89bb99e144c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_GET_IDLE&nbsp;&nbsp;&nbsp;0x02          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00451">451</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00430">usbFunctionSetup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c70990c038444434de16c30399e92640"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_GET_PROTOCOL" ref="c70990c038444434de16c30399e92640" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_GET_PROTOCOL&nbsp;&nbsp;&nbsp;0x03          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00452">452</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b0c796905d6a7d0bfc605f8c3e252437"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_GET_REPORT" ref="b0c796905d6a7d0bfc605f8c3e252437" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_GET_REPORT&nbsp;&nbsp;&nbsp;0x01          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00450">450</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00430">usbFunctionSetup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0d7b2ebb28c23a8bd2fb4a630b85ad71"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_SET_IDLE" ref="0d7b2ebb28c23a8bd2fb4a630b85ad71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_SET_IDLE&nbsp;&nbsp;&nbsp;0x0a          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00454">454</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00430">usbFunctionSetup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="831d5e0db9e559706e54acc2e7b5278c"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_SET_PROTOCOL" ref="831d5e0db9e559706e54acc2e7b5278c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_SET_PROTOCOL&nbsp;&nbsp;&nbsp;0x0b          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00455">455</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f0b62de651c6d73af4cfb1cee123c312"></a><!-- doxytag: member="usbdrv.h::USBRQ_HID_SET_REPORT" ref="f0b62de651c6d73af4cfb1cee123c312" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_HID_SET_REPORT&nbsp;&nbsp;&nbsp;0x09          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00453">453</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="eb145a6378e20ee3aedaa81fffd08d5d"></a><!-- doxytag: member="usbdrv.h::USBRQ_RCPT_DEVICE" ref="eb145a6378e20ee3aedaa81fffd08d5d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_RCPT_DEVICE&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00407">407</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6c25d62097af881d30af436c07773a26"></a><!-- doxytag: member="usbdrv.h::USBRQ_RCPT_ENDPOINT" ref="6c25d62097af881d30af436c07773a26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_RCPT_ENDPOINT&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00409">409</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc17e89d6963cc359d8f7de2f7a1e39d"></a><!-- doxytag: member="usbdrv.h::USBRQ_RCPT_INTERFACE" ref="fc17e89d6963cc359d8f7de2f7a1e39d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_RCPT_INTERFACE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00408">408</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5ae0c6cdfa26c87300c3a01aa2b0c7e2"></a><!-- doxytag: member="usbdrv.h::USBRQ_RCPT_MASK" ref="5ae0c6cdfa26c87300c3a01aa2b0c7e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_RCPT_MASK&nbsp;&nbsp;&nbsp;0x1f          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00406">406</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6837bf1e17c56a25b97db0be68b03519"></a><!-- doxytag: member="usbdrv.h::USBRQ_SET_ADDRESS" ref="6837bf1e17c56a25b97db0be68b03519" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SET_ADDRESS&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00426">426</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fc6adbbfd47da950ccf50277a41bfe58"></a><!-- doxytag: member="usbdrv.h::USBRQ_SET_CONFIGURATION" ref="fc6adbbfd47da950ccf50277a41bfe58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SET_CONFIGURATION&nbsp;&nbsp;&nbsp;9          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00430">430</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2fb2a12d1a7d37bce6bcf535f48ade9e"></a><!-- doxytag: member="usbdrv.h::USBRQ_SET_DESCRIPTOR" ref="2fb2a12d1a7d37bce6bcf535f48ade9e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SET_DESCRIPTOR&nbsp;&nbsp;&nbsp;7          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00428">428</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1802461b0f91708022a66f407fadd1f1"></a><!-- doxytag: member="usbdrv.h::USBRQ_SET_FEATURE" ref="1802461b0f91708022a66f407fadd1f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SET_FEATURE&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00425">425</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="904cc1bbdd859501d590ce47099a49ec"></a><!-- doxytag: member="usbdrv.h::USBRQ_SET_INTERFACE" ref="904cc1bbdd859501d590ce47099a49ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SET_INTERFACE&nbsp;&nbsp;&nbsp;11          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00432">432</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c4b47c9502650f6a74714f852825746c"></a><!-- doxytag: member="usbdrv.h::USBRQ_SYNCH_FRAME" ref="c4b47c9502650f6a74714f852825746c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_SYNCH_FRAME&nbsp;&nbsp;&nbsp;12          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00433">433</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5c5f92099964ea08cc8cf0bccb8ca4ed"></a><!-- doxytag: member="usbdrv.h::USBRQ_TYPE_CLASS" ref="5c5f92099964ea08cc8cf0bccb8ca4ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_TYPE_CLASS&nbsp;&nbsp;&nbsp;(1&lt;&lt;5)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00414">414</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00430">usbFunctionSetup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ef7b9c4cc4266e79c677fd42e2abb40e"></a><!-- doxytag: member="usbdrv.h::USBRQ_TYPE_MASK" ref="ef7b9c4cc4266e79c677fd42e2abb40e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_TYPE_MASK&nbsp;&nbsp;&nbsp;0x60          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00412">412</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

<p>Referenced by <a class="el" href="main_8c-source.html#l00430">usbFunctionSetup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a2eaf9447ddfc30442e8b6bd13cfd969"></a><!-- doxytag: member="usbdrv.h::USBRQ_TYPE_STANDARD" ref="a2eaf9447ddfc30442e8b6bd13cfd969" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_TYPE_STANDARD&nbsp;&nbsp;&nbsp;(0&lt;&lt;5)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00413">413</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c4992ceee7d8bd052dedb4ac63599cdc"></a><!-- doxytag: member="usbdrv.h::USBRQ_TYPE_VENDOR" ref="c4992ceee7d8bd052dedb4ac63599cdc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBRQ_TYPE_VENDOR&nbsp;&nbsp;&nbsp;(2&lt;&lt;5)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html#l00415">415</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h-source.html">usbdrv.h</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="fc46c8aeec21279368fa6147d3880564"></a><!-- doxytag: member="usbdrv.h::usbRequest_t" ref="fc46c8aeec21279368fa6147d3880564" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structusbRequest.html">usbRequest</a> <a class="el" href="structusbRequest.html">usbRequest_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="992d37ca7c2980c180e963d4f78a30ea"></a><!-- doxytag: member="usbdrv.h::usbWord_t" ref="992d37ca7c2980c180e963d4f78a30ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef union <a class="el" href="unionusbWord.html">usbWord</a> <a class="el" href="unionusbWord.html">usbWord_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d5d100bf4116d533ac4a61546f42ab41"></a><!-- doxytag: member="usbdrv.h::usbCrc16" ref="d5d100bf4116d533ac4a61546f42ab41" args="(uchar *data, uchar len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned usbCrc16           </td>
          <td>(</td>
          <td class="paramtype">uchar *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uchar&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="59c610716d5103b35aca840d8af6600b"></a><!-- doxytag: member="usbdrv.h::usbCrc16Append" ref="59c610716d5103b35aca840d8af6600b" args="(unsigned char *data, unsigned char len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned usbCrc16Append           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e6f351eca7bf6fb1251f9a478cbae2b0"></a><!-- doxytag: member="usbdrv.h::usbFunctionSetup" ref="e6f351eca7bf6fb1251f9a478cbae2b0" args="(uchar data[8])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar usbFunctionSetup           </td>
          <td>(</td>
          <td class="paramtype">uchar&nbsp;</td>
          <td class="paramname"> <em>data</em>[8]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2main_8c-source.html#l00055">55</a> of file <a class="el" href="bootloader__firmware_2main_8c-source.html">main.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00056"></a>00056 {
<a name="l00057"></a>00057     <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a> len = 0;
<a name="l00058"></a>00058     
<a name="l00059"></a>00059     <span class="keywordflow">if</span> (data[1] == <a class="code" href="bootloader__firmware_2main_8c.html#3286acb932940208c76e7583f114678d">USBBOOT_FUNC_LEAVE_BOOT</a>) {
<a name="l00060"></a>00060       leaveBootloader();
<a name="l00061"></a>00061     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data[1] == <a class="code" href="bootloader__firmware_2main_8c.html#e318eb30085af6e538b4020e21df9b27">USBBOOT_FUNC_WRITE_PAGE</a>) {
<a name="l00062"></a>00062 
<a name="l00063"></a>00063       state = <a class="code" href="bootloader__firmware_2main_8c.html#5491df8a454396e51015fd279df4f52b">STATE_WRITE_PAGE</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065       page_address = (data[3] &lt;&lt; 8) | data[2]; <span class="comment">/* page address */</span>
<a name="l00066"></a>00066       page_offset = 0;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068       eeprom_busy_wait();
<a name="l00069"></a>00069       cli();
<a name="l00070"></a>00070       boot_page_erase(page_address); <span class="comment">/* erase page */</span>
<a name="l00071"></a>00071       sei();
<a name="l00072"></a>00072       boot_spm_busy_wait(); <span class="comment">/* wait until page is erased */</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074       len = 0xff; <span class="comment">/* multiple out */</span>
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data[1] == <a class="code" href="bootloader__firmware_2main_8c.html#00ac0e666c8248d50adb457b80c8ee21">USBBOOT_FUNC_GET_PAGESIZE</a>) {
<a name="l00077"></a>00077 
<a name="l00078"></a>00078       replyBuffer[0] = SPM_PAGESIZE &gt;&gt; 8;
<a name="l00079"></a>00079       replyBuffer[1] = SPM_PAGESIZE &amp; 0xff;
<a name="l00080"></a>00080       len = 2;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     }
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8c.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a> = replyBuffer;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="keywordflow">return</span> len;
<a name="l00087"></a>00087 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4552b1c9fe142a402c84c15444d3d927"></a><!-- doxytag: member="usbdrv.h::usbInit" ref="4552b1c9fe142a402c84c15444d3d927" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00501">501</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00502"></a>00502 {
<a name="l00503"></a>00503     usbInputBuf = (<a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>)<a class="code" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a>[0];
<a name="l00504"></a>00504     usbAppBuf = (<a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>)<a class="code" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a>[1];
<a name="l00505"></a>00505 <span class="preprocessor">#if USB_INTR_CFG_SET != 0</span>
<a name="l00506"></a>00506 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#34cb3bb685c3a6f9c8a63f3a948799b6">USB_INTR_CFG</a> |= <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ab47b4721030fcf7b773ab33f8e0f1c9">USB_INTR_CFG_SET</a>;
<a name="l00507"></a>00507 <span class="preprocessor">#endif</span>
<a name="l00508"></a>00508 <span class="preprocessor"></span><span class="preprocessor">#if USB_INTR_CFG_CLR != 0</span>
<a name="l00509"></a>00509 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#34cb3bb685c3a6f9c8a63f3a948799b6">USB_INTR_CFG</a> &amp;= ~(<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#aaa3f824f11c2a5e75acb3841063120d">USB_INTR_CFG_CLR</a>);
<a name="l00510"></a>00510 <span class="preprocessor">#endif</span>
<a name="l00511"></a>00511 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#0259fea2ff25be5c0cd58cce07526f84">USB_INTR_ENABLE</a> |= (1 &lt;&lt; <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#3d028bbfd2e3e723bba54a4ac8fd584c">USB_INTR_ENABLE_BIT</a>);
<a name="l00512"></a>00512 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="602c14b8f268adeae6896014c9a79909"></a><!-- doxytag: member="usbdrv.h::usbPoll" ref="602c14b8f268adeae6896014c9a79909" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbPoll           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00452">452</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00453"></a>00453 {
<a name="l00454"></a>00454 <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>   len;
<a name="l00455"></a>00455 
<a name="l00456"></a>00456     <span class="keywordflow">if</span>((len = <a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a>) &gt; 0){
<a name="l00457"></a>00457 <span class="comment">/* We could check CRC16 here -- but ACK has already been sent anyway. If you</span>
<a name="l00458"></a>00458 <span class="comment"> * need data integrity checks with this driver, check the CRC in your app</span>
<a name="l00459"></a>00459 <span class="comment"> * code and report errors back to the host. Since the ACK was already sent,</span>
<a name="l00460"></a>00460 <span class="comment"> * retries must be handled on application level.</span>
<a name="l00461"></a>00461 <span class="comment"> * unsigned crc = usbCrc16((uchar *)(unsigned)(usbAppBuf + 1), usbRxLen - 3);</span>
<a name="l00462"></a>00462 <span class="comment"> */</span>
<a name="l00463"></a>00463         len -= 3;       <span class="comment">/* remove PID and CRC */</span>
<a name="l00464"></a>00464         <span class="keywordflow">if</span>(len &lt; 128){  <span class="comment">/* no overflow */</span>
<a name="l00465"></a>00465             <a class="code" href="unionconverter__t.html">converter_t</a> appBuf;
<a name="l00466"></a>00466             appBuf.<a class="code" href="unionconverter__t.html#6303c2a2b30bdd9ad5dacb62ef19682c">ptr</a> = (<a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a> *)<a class="code" href="usbdrv_2usbdrv_8c.html#50d7f851abf281804143e797d0bfbf04">usbRxBuf</a>;
<a name="l00467"></a>00467             appBuf.<a class="code" href="unionconverter__t.html#f1aa09c318011859f8ff23c5ccd18996">bytes</a>[0] = usbAppBuf;
<a name="l00468"></a>00468             appBuf.<a class="code" href="unionconverter__t.html#f1aa09c318011859f8ff23c5ccd18996">bytes</a>[0]++;
<a name="l00469"></a>00469             usbProcessRx(appBuf.<a class="code" href="unionconverter__t.html#6303c2a2b30bdd9ad5dacb62ef19682c">ptr</a>, len);
<a name="l00470"></a>00470         }
<a name="l00471"></a>00471         <a class="code" href="usbdrv_2usbdrv_8c.html#3d8dd46333d7cf2258067c00428efc47">usbRxLen</a> = 0;   <span class="comment">/* mark rx buffer as available */</span>
<a name="l00472"></a>00472     }
<a name="l00473"></a>00473     <span class="keywordflow">if</span>(<a class="code" href="usbdrv_2usbdrv_8c.html#5d017abeeddd393d4abda00257c73930">usbMsgLen</a> != 0xff){  <span class="comment">/* transmit data pending? */</span>
<a name="l00474"></a>00474         <span class="keywordflow">if</span>(<a class="code" href="usbdrv_2usbdrv_8c.html#6d1c6f67a95541d4f45d26dd80e07693">usbTxLen</a> &lt; 0)    <span class="comment">/* transmit system idle */</span>
<a name="l00475"></a>00475             usbBuildTxBlock();
<a name="l00476"></a>00476     }
<a name="l00477"></a>00477     <span class="keywordflow">if</span>(isNotSE0()){ <span class="comment">/* SE0 state */</span>
<a name="l00478"></a>00478         usbIsReset = 0;
<a name="l00479"></a>00479     }<span class="keywordflow">else</span>{
<a name="l00480"></a>00480         <span class="comment">/* check whether SE0 lasts for more than 2.5us (3.75 bit times) */</span>
<a name="l00481"></a>00481         <span class="keywordflow">if</span>(!usbIsReset){
<a name="l00482"></a>00482             <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a> i;
<a name="l00483"></a>00483             <span class="keywordflow">for</span>(i=100;i;i--){
<a name="l00484"></a>00484                 <span class="keywordflow">if</span>(isNotSE0())
<a name="l00485"></a>00485                     <span class="keywordflow">goto</span> notUsbReset;
<a name="l00486"></a>00486             }
<a name="l00487"></a>00487             usbIsReset = 1;
<a name="l00488"></a>00488             <a class="code" href="usbdrv_2usbdrv_8c.html#b9c08d1850db1e4d9feea687bc129425">usbNewDeviceAddr</a> = 0;
<a name="l00489"></a>00489             <a class="code" href="usbdrv_2usbdrv_8c.html#3f91a04b325ad5232d270839891e5856">usbDeviceAddr</a> = 0;
<a name="l00490"></a>00490 <span class="preprocessor">#if USB_CFG_IMPLEMENT_HALT</span>
<a name="l00491"></a>00491 <span class="preprocessor"></span>            usbHalted1 = 0;
<a name="l00492"></a>00492 <span class="preprocessor">#endif</span>
<a name="l00493"></a>00493 <span class="preprocessor"></span>            <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#1b3ae5f24b3863d451c3648fa2ff57be">DBG1</a>(0xff, 0, 0);
<a name="l00494"></a>00494 notUsbReset:;
<a name="l00495"></a>00495         }
<a name="l00496"></a>00496     }
<a name="l00497"></a>00497 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d3eef923d7e69592f8b3aa3bf983bb92"></a><!-- doxytag: member="usbdrv.h::usbSetInterrupt" ref="d3eef923d7e69592f8b3aa3bf983bb92" args="(uchar *data, uchar len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbSetInterrupt           </td>
          <td>(</td>
          <td class="paramtype">uchar *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uchar&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00196">196</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00197"></a>00197 {
<a name="l00198"></a>00198 <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#a8ddf20cdd716b652e76e23e5e700893">uchar</a>       *p, i;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 <span class="preprocessor">#if USB_CFG_IMPLEMENT_HALT</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(usbHalted1)
<a name="l00202"></a>00202         <span class="keywordflow">return</span>;
<a name="l00203"></a>00203 <span class="preprocessor">#endif</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>    <span class="keywordflow">if</span>(len &gt; 8) <span class="comment">/* interrupt transfers are limited to 8 bytes */</span>
<a name="l00205"></a>00205         len = 8;
<a name="l00206"></a>00206     i = <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#62e5930e01b6235dd17be080135f1546">USBPID_DATA1</a>;
<a name="l00207"></a>00207     <span class="keywordflow">if</span>(usbTxPacketCnt1 &amp; 1)
<a name="l00208"></a>00208         i = <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#ddf02692d5a80756e8edfa12f1fb50c6">USBPID_DATA0</a>;
<a name="l00209"></a>00209     <span class="keywordflow">if</span>(<a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> &lt; 0){      <span class="comment">/* packet buffer was empty */</span>
<a name="l00210"></a>00210         usbTxPacketCnt1++;
<a name="l00211"></a>00211     }<span class="keywordflow">else</span>{
<a name="l00212"></a>00212         <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> = -1;     <span class="comment">/* avoid sending incomplete interrupt data */</span>
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214     p = <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>;
<a name="l00215"></a>00215     *p++ = i;
<a name="l00216"></a>00216     <span class="keywordflow">for</span>(i=len;i--;)
<a name="l00217"></a>00217         *p++ = *data++;
<a name="l00218"></a>00218     <a class="code" href="usbdrv_2usbdrv_8h.html#96a513e4c0943ba6bd42aa1289874340">usbCrc16Append</a>(&amp;<a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>[1], len);
<a name="l00219"></a>00219     <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a> = len + 4;    <span class="comment">/* len must be given including sync byte */</span>
<a name="l00220"></a>00220 <span class="preprocessor">#if DEBUG_LEVEL &gt; 1</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#6c91367860ab33a44869e241022d5b0f">DBG2</a>(0x21, <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a>, <a class="code" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#2e90de9a02954cab2f72d0f509bc4714">usbTxLen1</a>-1);
<a name="l00222"></a>00222 <span class="preprocessor">#else</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span>    <a class="code" href="bootloader__firmware_2usbdrv_2oddebug_8h.html#1b3ae5f24b3863d451c3648fa2ff57be">DBG1</a>(0x21, <a class="code" href="usbdrv_2usbdrv_8c.html#92ad467856cc7e0efeafcda41671ea75">usbTxBuf1</a> + 1, 2);
<a name="l00224"></a>00224 <span class="preprocessor">#endif</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span>}
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a43502fd98afab29fcd5115c1f2c4067"></a><!-- doxytag: member="usbdrv.h::usbConfiguration" ref="a43502fd98afab29fcd5115c1f2c4067" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar <a class="el" href="usbdrv_2usbdrv_8h.html#a43502fd98afab29fcd5115c1f2c4067">usbConfiguration</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00032">32</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="6eddceb59225e44310eb3d165695254a"></a><!-- doxytag: member="usbdrv.h::usbHidReportDescriptor" ref="6eddceb59225e44310eb3d165695254a" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8c.html#4bc2493b9488cbfb5bf35651b8f5ccee">PROGMEM</a> const char <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8h.html#6eddceb59225e44310eb3d165695254a">usbHidReportDescriptor</a>[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5f78c8584830588b8c0c8f2a27772f8e"></a><!-- doxytag: member="usbdrv.h::usbMsgPtr" ref="5f78c8584830588b8c0c8f2a27772f8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uchar* <a class="el" href="usbdrv_2usbdrv_8h.html#5f78c8584830588b8c0c8f2a27772f8e">usbMsgPtr</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html#l00058">58</a> of file <a class="el" href="bootloader__firmware_2usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="2e90de9a02954cab2f72d0f509bc4714"></a><!-- doxytag: member="usbdrv.h::usbTxLen1" ref="2e90de9a02954cab2f72d0f509bc4714" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile schar <a class="el" href="usbdrv_2usbdrv_8h.html#6c1902650e72ac69e542d086df6fe43c">usbTxLen1</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00043">43</a> of file <a class="el" href="usbdrv_2usbdrv_8c-source.html">usbdrv.c</a>.</p>

<p>Referenced by <a class="el" href="usbdrv_2usbdrv_8c-source.html#l00229">usbSetInterrupt()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Oct 30 15:43:34 2009 for USB IR HID Device by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
